# 1. TCP和UDP
### Multiplexing / demultiplexing
* 多路复用(Multiplexing)
	* 指在一个信道上传输多路信号或数据流的过程或技术。由于multiplexing可以将多个低俗信道整合到一个告诉信道进行传输，从而有效利用了高速信道。  
	Combine multiple signals into one signal over a shared medium. The aim is to share a scarce resource.
* 多路分解(Demultiplexing)
	* Host receives IP datagrams
	* Host uses IP addresses & port numbers to direct segment to appropriate socket
		* 主机利用IP地址和端口号来引导segment到合适的socket

# 2. Networking API

# 3. HTTP

# 4. NAT
##### 先简单介绍一些除了TCP和UDP外其它的端口
### RTP
* Real-time transport protocol
* 用来传输语音和视频的(在某些App中有用到)
* UDP做不了的事情RTP也不能做

#### 与TCP的区别
* No acknowledgements
* 接受者知道何时包会被发送，以及发送了多少  
Receiver knows when packet was sent, and how many were sent.

### DCCP
* Datagram Congestion Control Protocol
* UDP加一些修饰，针对对时间敏感的投递 for time-sensitive delivery

## Multipath TCP 多路TCP (新技术)
* 在一个TCP连接的情况下允许多路  
Allows mutiple paths to be used by one TCP connection.
* 例子: Wifi **and** 4G **simultaneously**

#### 多路TCP不单单是为了性能
* 通过在WiFi和4G上进行多路复用，其中一个的失效只会出现一些包丢失，而连接会迅速重新配置。  
By having a link multiplexed over WiFi and 4G, failure of one path appears as just some packet loss, and the link rapidly reconfigures.

* 还可以有效地使用多个网卡

## Address Translation 地址翻译
* 扩展稀缺的IP号码的机制  
Mechanism to extend scarce IP numbers.

* 提供了一些安全性，但并不是设计目标，需谨慎对待
* 打破了端对端理论"end to end principle"

### 基本概念
* **Outbound NAT**:
	* 从较多的IP地址编码为较少的IP地址(本地网到外网)  
	Connection is modified so that connections from multiple source IP addresses are encoded into port number space of a smaller number of addresses
* **Inbound NAT**:
	* 从较少的IP地址(外网)扩张到较多的IP地址(内网)
		* Connection is modified so that connections to multiple ports on a small number of IP addresses are expanded out to a large number of addresses
	* 用单个IP号就能提供多种服务(并且良好的支持虚拟化)  
	Used to offer multiple services from single IP number (goes well with virtualisation to minimise attack surface)
	

### TCP连接由4大要素来识别(identify)
* source IP, source port, destination IP, destination port
* 只要其中一个变了我们就可以说这是一个不同的连接
* source 是可以更改的
![](./img/nat.png)
* 加粗的部分就是port
* 在现实中不需要那么复杂的port numbers

### NAT在TCP中的结合



# 5. DNS

# 6. Other Applications

# 7. 路由端口 Routing Protocols

# 8. Virtual Firewalling

# 9. NTP

# 	